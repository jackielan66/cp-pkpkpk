(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{ZOrW:function(e,a,t){"use strict";var l=t("xK3H"),n=t("3rQ3");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("1eg1");var r=l(t("P1QG"));t("hCtM");var u=l(t("HfpZ"));t("Xyr4");var i=l(t("HxG/"));t("ml1M");var c=l(t("y9aw"));t("1ami");var s,f,d=l(t("4CXy")),o=l(t("Sx57")),h=l(t("4zp0")),p=l(t("iVWQ")),m=l(t("lF+r")),g=l(t("PApH")),y=n(t("6cB7")),v=t("LneV"),D=l(t("v99g")),b=t("+n12"),E=l(t("lVjH")),T=l(t("xqX8")),k=y.default.lazy(function(){return t.e(0).then(t.t.bind(null,"Y65U",7))}),S=y.default.lazy(function(){return t.e(0).then(t.t.bind(null,"20K/",7))}),C=y.default.lazy(function(){return t.e(0).then(t.t.bind(null,"b2ve",7))}),P=y.default.lazy(function(){return t.e(0).then(t.t.bind(null,"tLGd",7))}),w=y.default.lazy(function(){return t.e(0).then(t.t.bind(null,"Jqna",7))}),V=(s=(0,v.connect)(function(e){var a=e.chart,t=e.loading;return{chart:a,loading:t.effects["chart/fetch"]}}),s(f=function(e){function a(){var e,t;(0,o.default)(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return t=(0,p.default)(this,(e=(0,m.default)(a)).call.apply(e,[this].concat(n))),t.state={salesType:"all",currentTabKey:"",rangePickerValue:(0,b.getTimeDistance)("year")},t.handleChangeSalesType=function(e){t.setState({salesType:e.target.value})},t.handleTabChange=function(e){t.setState({currentTabKey:e})},t.handleRangePickerChange=function(e){var a=t.props.dispatch;t.setState({rangePickerValue:e}),a({type:"chart/fetchSalesData"})},t.selectDate=function(e){var a=t.props.dispatch;t.setState({rangePickerValue:(0,b.getTimeDistance)(e)}),a({type:"chart/fetchSalesData"})},t.isActive=function(e){var a=t.state.rangePickerValue,l=(0,b.getTimeDistance)(e);return a[0]&&a[1]&&a[0].isSame(l[0],"day")&&a[1].isSame(l[1],"day")?E.default.currentDate:""},t}return(0,g.default)(a,e),(0,h.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;this.reqRef=requestAnimationFrame(function(){e({type:"chart/fetch"})})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"chart/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e,a=this.state,t=a.rangePickerValue,l=a.salesType,n=a.currentTabKey,s=this.props,f=s.chart,o=s.loading,h=f.visitData,p=f.visitData2,m=f.salesData,g=f.searchData,v=f.offlineData,b=f.offlineChartData,V=f.salesTypeData,x=f.salesTypeDataOnline,A=f.salesTypeDataOffline;e="all"===l?V:"online"===l?x:A;var z=y.default.createElement(d.default,null,y.default.createElement(d.default.Item,null,"\u64cd\u4f5c\u4e00"),y.default.createElement(d.default.Item,null,"\u64cd\u4f5c\u4e8c")),G=y.default.createElement("span",{className:E.default.iconGroup},y.default.createElement(i.default,{overlay:z,placement:"bottomRight"},y.default.createElement(c.default,{type:"ellipsis"}))),K=n||v[0]&&v[0].name;return y.default.createElement(D.default,null,y.default.createElement(y.Suspense,{fallback:y.default.createElement(T.default,null)},y.default.createElement(k,{loading:o,visitData:h})),y.default.createElement(y.Suspense,{fallback:null},y.default.createElement(S,{rangePickerValue:t,salesData:m,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:o,selectDate:this.selectDate})),y.default.createElement(r.default,{gutter:24},y.default.createElement(u.default,{xl:12,lg:24,md:24,sm:24,xs:24},y.default.createElement(y.Suspense,{fallback:null},y.default.createElement(C,{loading:o,visitData2:p,selectDate:this.selectDate,searchData:g,dropdownGroup:G}))),y.default.createElement(u.default,{xl:12,lg:24,md:24,sm:24,xs:24},y.default.createElement(y.Suspense,{fallback:null},y.default.createElement(P,{dropdownGroup:G,salesType:l,loading:o,salesPieData:e,handleChangeSalesType:this.handleChangeSalesType})))),y.default.createElement(y.Suspense,{fallback:null},y.default.createElement(w,{activeKey:K,loading:o,offlineData:v,offlineChartData:b,handleTabChange:this.handleTabChange})))}}]),a}(y.Component))||f),x=V;a.default=x}}]);